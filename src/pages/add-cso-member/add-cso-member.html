<ion-content class="content">
  <div class="nav-bar">
    <div class="button-back">
      <button clear ion-button (click)="goBack()">
        <ion-icon ios="ios-arrow-round-back" md="md-arrow-round-back"></ion-icon>
      </button>
    </div>
    <div class="button-create">
      <button ion-button (click)="redirectToMemberList()">
         Manage CSO Members
      </button>
    </div>
  </div>
  <div class="main-content">
    <h3>Add CSO Member</h3>
    <div class="cso-name">{{cso?.name_of_cso}} </div>
    <div class="form-fields-required">All fields required.</div>
    <div class="card-form">
      <form [formGroup]="memberForm" (ngSubmit)="formSubmit()">

        <div class="input-select">
          <ion-item>
            <ion-label> Select Nationality</ion-label>
            <ion-select formControlName="nationality" (ionChange)="showPassportField = !showPassportField">
              <ion-option value="South African">South African</ion-option>
              <ion-option value="Other">Other</ion-option>
            </ion-select>
          </ion-item>
        </div>

        <div class="input-field">
          <ion-input
            type="number"
            *ngIf="!showPassportField"
            formControlName="rsa_id_number"
            placeholder="RSA Identification number">
          </ion-input>
          <div class="field-error" *ngIf="_isInvalidControl('rsa_id_number')">
            <p>Please provide a valid South African identification number</p>
          </div>
        </div>

        <div class="input-field">
          <ion-input
            placeholder="Passport number"
            type="text"
            *ngIf="showPassportField"
            formControlName="passport_number">
          </ion-input>
          <div class="field-error" *ngIf="_isInvalidControl('passport_number')">
            <p>Please provide passport number</p>
          </div>
        </div>

        <div class="input-field">
          <ion-input
            placeholder="First name"
            type="text"
            formControlName="first_name">
          </ion-input>
          <div class="field-error" *ngIf="_isInvalidControl('first_name')">
            <p>Please provide a valid first Name</p>
          </div>
        </div>

        <div class="input-field">
          <ion-input
            placeholder="Surname"
            type="text"
            formControlName="last_name">
          </ion-input>
          <div class="field-error" *ngIf="_isInvalidControl('last_name')">
            <p>Please provide a valid surname</p>
          </div>
        </div>

        <ion-item class="input-select">
          <ion-label> Select Gender</ion-label>
          <ion-select formControlName="gender">
            <ion-option value="Female">Female</ion-option>
            <ion-option value="Male">Male</ion-option>
          </ion-select>
        </ion-item>


        <ion-item class="input-select">
          <ion-label> Select Race</ion-label>
          <ion-select formControlName="race">
            <ion-option value="African">African</ion-option>
            <ion-option value="Colored">Colored</ion-option>
            <ion-option value="Indian">Indian</ion-option>
            <ion-option value="White">White</ion-option>
          </ion-select>
        </ion-item>

        <ion-item class="input-select">
          <ion-label> Select Disability</ion-label>
          <ion-select formControlName="disability">
            <ion-option value="Yes">Yes</ion-option>
            <ion-option value="No">No</ion-option>
          </ion-select>
        </ion-item>

        <ion-item class="input-select">
          <ion-label> Select Member Position</ion-label>
          <ion-select formControlName="member_position_guid">
            <ion-option value="f0965be9-595b-4005-ac75-73bf575e53a4">Trustee</ion-option>
            <ion-option value="2300cae8-0a25-4f50-bf82-aad8fb8a7fd9">Management</ion-option>
            <ion-option value="4a8aa57d-1d05-48ad-a51f-7bad9357aa28">General Monitor</ion-option>
            <ion-option value="72eb9ce9-75d3-4bb9-b80c-c1bf31b3ec4e">Baord Monitor</ion-option>
            <ion-option value="5f467b4f-eb05-47e9-8549-0c1b6f61db9f">Other</ion-option>
          </ion-select>
        </ion-item>

        <div class="input-field">
          <ion-input
            placeholder="Contact number"
            type="number"
            formControlName="contact_number">
          </ion-input>
          <div class="field-error" *ngIf="_isInvalidControl('contact_number')">
            <p>Please provide a valid contact number</p>
          </div>
        </div>

        <div class="input-field">
          <ion-input
            placeholder="Physical address"
            type="text"
            formControlName="physical_address">
          </ion-input>
          <div class="field-error" *ngIf="_isInvalidControl('physical_address')">
            <p>Please provide a valid physical address</p>
          </div>
        </div>

        <ion-item class="input-select">
          <ion-label> Membership start date</ion-label>
          <ion-datetime  class="input-field" formControlName="start_date"></ion-datetime>
        </ion-item>

        <ion-item class="input-select">
          <ion-label> Membership end date</ion-label>
          <ion-datetime  class="input-field" formControlName="end_date"></ion-datetime>
        </ion-item>

        <button type="submit" class="input-submit" ion-button [disabled]="!memberForm.valid">Submit</button>
      </form>
    </div>
  </div>
</ion-content>
