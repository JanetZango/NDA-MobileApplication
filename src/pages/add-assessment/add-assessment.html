<ion-content class="content">
  <div class="nav-bar">
    <div class="button-back">
      <button clear ion-button (click)="goBackToCsoViewDetails()">
        <ion-icon ios="ios-arrow-round-back" md="md-arrow-round-back"></ion-icon>
      </button>
    </div>
  </div>
  <div class="main-content">
    <h3>Add CSO Assessment</h3>
    <div class="cso-name">{{cso?.name_of_cso}} </div>
    <br/>
    <div class="form-fields-required">All fields required.</div>
    <div class="card-form">

      <ion-list radio-group>

        <div *ngFor="let assessmentTypeSection of filteredAssessmentTypeSections; let x=index">
          <ion-list radio-group
                    *ngFor="let question of getQuestionsByAssessmentTypeSection(assessmentTypeSection?.guid); let i=index"
                    [(ngModel)]="listOfQuestions[ (x + '-'+question.guid+'-' + i)]">
            <ion-card>
              <ion-list-header text-wrap>
                {{question.title}}
              </ion-list-header>
              {{countQuestions(question?.guid)}}
              <ion-item *ngFor="let answer of getAnswersByQuestionGuid(question?.guid)" text-wrap>
                <ion-label>{{answer.answer}}</ion-label>
                <ion-radio value="{{assessmentTypeSection.guid}},{{question?.guid}},{{answer.guid}}"></ion-radio>
              </ion-item>
            </ion-card>

          </ion-list>
        </div>
        <button type="submit" class="input-submit" ion-button name="submit" (click)="onSubmit()">Submit</button>
      </ion-list>
    </div>
<!--    <div class="card-form">-->
<!--      <button type="submit" class="input-submit" ion-button (click)="onSubmit()">Submit</button>-->
<!--    </div>-->
  </div>
</ion-content>

<ion-footer class="ion-no-border">
  <ion-toolbar>
    <ion-buttons>
      <button class="button-footer-home" (click)="goBackToHomePage()">
        <ion-icon name="home"></ion-icon>&nbsp;Home
      </button>
      <button class="button-footer-home" style="float: right" (click)="logout()">
        <ion-icon ios="ios-exit" md="md-exit"></ion-icon>&nbsp;Logout
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-footer>
