<ion-content class="content">
    <div class="btn">
      <button clear  ion-button (click)="goBackToCapacityBuildingList()">
          <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>
      </button>
  </div>
    <h3>Add Capacity Building</h3>
  <form [formGroup]="authForm"  #capacity="ngForm"  (ngSubmit)="addCapacity(capacity)"> 
        <ion-input placeholder="Name Of Cso" [(ngModel)]="cso_name" ngModel  formControlName="cso_name"   type="text" class="user-input" id="anim1"
        (input)="getItems($event)" ></ion-input>

        <div id="results">
          <ion-item no-lines *ngFor="let item of items; let i=index" button (click)="openMarkerInfo(item,capacity)">
            <p>{{item.cso_name}}</p>
          </ion-item>
        </div>


        <ion-item id="item">
          <ion-label> Select Capacity Building Type</ion-label>
          <ion-select [(ngModel)]="capacity_building_type_guid"  required formControlName="capacity_building_type" ngModel>
            <ion-option *ngFor="let a of capacityArr" [value]="a.guid">{{a.title}}
            </ion-option>
          </ion-select>
        </ion-item>

        <ion-item id="item">
          <ion-label> Select Province</ion-label>
          <ion-select  [(ngModel)]="province_guid" ngModel formControlName="province" required  (ionChange)="populateDistrict(province_guid)">
            <ion-option *ngFor="let a of provinceArr" [value]="a.guid">{{a.title}}
            </ion-option>
          </ion-select>
        </ion-item>

        <ion-item id="item">
          <ion-label> Select District</ion-label>
          <ion-select [(ngModel)]="district_guid" ngModel formControlName="district" required (ionChange)="populateMunicipality(district_guid)">
            <ion-option *ngFor="let district of districtArr" [value]="district.guid">{{district.title}}
            </ion-option>
          </ion-select>
        </ion-item>
    

        <ion-item id="item">
          <ion-label> Select Municipality</ion-label>
          <ion-select [(ngModel)]="municipality_guid" required ngModel formControlName="municipality">
            <ion-option *ngFor="let municipality of municipalityArr" [value]="municipality.guid">
              {{municipality.title}}
            </ion-option>
          </ion-select>
        </ion-item>

        <ion-item id="item">
          <ion-label> Select Partner</ion-label>
          <ion-select [(ngModel)]="partner_guid" ngModel formControlName="partner" >
            <ion-option *ngFor="let district of partnerArr" [value]="district.guid">
              {{district.title}}
            </ion-option>
          </ion-select>
        </ion-item>

        <ion-input placeholder="Venue" type="text" class="user-input" formControlName="venue" [(ngModel)]="venue" id="anim1" ngModel ></ion-input>

      
        <ion-input placeholder="Facilitor Name" type="text" class="user-input" formControlName="facilitator_name" [(ngModel)]="co_facilitator_name"
          id="anim1" ngModel>
        </ion-input>

        <ion-input placeholder="Funding Source" type="text" class="user-input"  formControlName="funding_source"  [(ngModel)]="funding_source_id"
          id="anim1" ngModel></ion-input>

        <ion-input placeholder="Collected by" type="text" class="user-input" formControlName="collected_by" [(ngModel)]="collected_by" id="anim1" ngModel>
        </ion-input>

        <div class="Contacts">
          <ion-label>Start date</ion-label>
          <!-- <input type="date" id="input-field" required [(ngModel)]="start_date" name="start_date" ngModel> -->
          <ion-item>
            <ion-label>MM DD YY</ion-label>
            <ion-datetime displayFormat="MMM DD YYYY" placeholder="Select Date" required [(ngModel)]="start_date" formControlName="start_date" ngModel></ion-datetime>
          </ion-item>
          <br>
          <ion-label>End date</ion-label>
          <!-- <input type="date" id="input-field"  required name="end_date" [(ngModel)]="end_date" ngModel> -->
          <ion-item>
            <ion-label>MM DD YY</ion-label>
            <ion-datetime displayFormat="MMM DD YYYY" placeholder="Select Date" formControlName="end_date" [(ngModel)]="end_date" ngModel></ion-datetime>
          </ion-item>
        </div>
    
        <div class="moveCont">
          <button  type="submit"  ion-button round class="btnSign" id="anim2" [disabled]="!authForm.valid">Add Capacity
          </button>
        </div>
      </form>

</ion-content>
